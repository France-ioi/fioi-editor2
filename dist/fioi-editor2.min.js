!function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){e.exports=function(t,e){var n=e||document;if(n.createStyleSheet){var i=n.createStyleSheet();return i.cssText=t,i.ownerNode}var o=n.getElementsByTagName("head")[0],r=n.createElement("style");return r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(n.createTextNode(t)),o.appendChild(r),r},e.exports.byUrl=function(t){if(document.createStyleSheet)return document.createStyleSheet(t).ownerNode;var e=document.getElementsByTagName("head")[0],n=document.createElement("link");return n.rel="stylesheet",n.href=t,e.appendChild(n),n}},{}],2:[function(t,e,n){e.exports='<div><div ui-ace="{onLoad: vm.aceLoaded, mode: \'c_cpp\'}"></div><div><span>Language du fichier :</span><select ng-model="vm.language" ng-options="option.name for option in vm.languageOptions track by option.name" ng-change="vm.setLanguage(option)"></select></div></div>'},{}],3:[function(t,e,n){"use strict";e.exports=function(e){function n(){return{restrict:"E",scope:{buffer:"@",onInit:"&"},template:t("./buffer.jade"),controllerAs:"vm",bindToController:!0,require:"^fioiEditor2",replace:!0,controller:i,link:function(t,e,n,i){t.$on("$destroy",function(){t.vm.cleanup()})}}}function i(t,e){function n(){i.languageOptions=o.getLanguages(),i.language=_.find(i.languageOptions,function(t){return t.name==o.language}),i.text=o.text}var i=this,o=e.get(this.buffer),r=null;n();var a={changed:n},s=_.map(a,function(e,n){return t.$on("fioi-editor2_buffer-"+o.name+"_"+n,e)});this.cleanup=function(){_.each(s,function(t){t()}),o.update({text:r.getValue(),language:this.language&&this.language.name,selection:r.selection.getRange()})}.bind(this),this.aceLoaded=function(t){window.editor=t,r=t,r.setValue(o.text),r.selection.setRange(o.selection),r.focus()}}e.directive("fioiEditor2Buffer",n),i.$inject=["$rootScope","FioiEditor2Buffers"]}},{"./buffer.jade":2}],4:[function(t,e,n){e.exports='<div class="fioi-editor2"><ul class="fioi-editor2_tabs"><li ng-click="vm.addTab()" class="fioi-editor2_new-tab">+</li><li ng-repeat="tab in vm.tabs track by tab.name" ng-class="{\'active\':tab===vm.tab}" ng-click="vm.selectTab(tab)" class="fioi-editor2_tab"><span class="fioi-editor2_tab-title">{{tab.title}}</span><span ng-click="vm.closeTab(tab)" class="fioi-editor2_close-tab">Ã—</span></li></ul><div class="fioi-editor2_buffers"><div ng-repeat="buffer in vm.tab.buffers track by buffer"><fioi-editor2-buffer buffer="{{::buffer}}"></fioi-editor2-buffer></div></div></div>'},{}],5:[function(t,e,n){"use strict";e.exports=function(e){function n(){return{restrict:"A",scope:{fioiEditor2:"&"},template:t("./editor.jade"),controllerAs:"vm",bindToController:!0,replace:!0,controller:i,link:function(t,e,n,i){t.$on("$destroy",function(){t.vm.cleanup()})}}}function i(t,e){function n(){r.tabs=o.getTabs(),r.tab=o.getActiveTab()}var i=this.fioiEditor2(),o=e.get(i.tabset),r=this,a={};a.placeholder=function(){alert("placeholder")},a.trigger=function(t){return"tabs-changed"===t?load():void 0},this.addTab=function(){var t=o.addTab();t.addBuffer(""),this.selectTab(t)}.bind(this),this.closeTab=function(t){o.removeTab(t.name)},this.selectTab=function(t){o.setActiveTab(t.name)},n();var s=[t.$on("fioi-editor2_tabset-"+i.tabset+"_changed",n)];this.cleanup=function(){_.each(s,function(t){t()})},"function"==typeof this.onInit&&this.onInit({api:a})}e.directive("fioiEditor2",n),i.$inject=["$rootScope","FioiEditor2Tabsets"]}},{"./editor.jade":4}],6:[function(t,e,n){var i=".fioi-editor2 {\n   width: 762px;\n}\n\nul.fioi-editor2_tabs {\n   font: bold 11px Verdana, Arial, sans-serif;\n   list-style-type: none;\n   padding-bottom: 24px;\n   border-bottom: 1px solid #CCCCCC;\n   margin: 0;\n}\n\nul.fioi-editor2_tabs > li {\n   float: left;\n   height: 21px;\n   line-height: 21px;\n   padding: 0 7px;\n   background-color: #E0F3DB;\n   margin: 2px 2px 0 2px;\n   border: 1px solid #CCCCCC;\n   cursor: pointer;\n}\n\nul.fioi-editor2_tabs > li.active {\n   border-bottom: 1px solid #fff;\n   background-color: #FFFFFF;\n}\n\nul.fioi-editor2_tabs > li:hover .fioi-editor2_tab-title {\n   text-decoration: underline;\n}\n\n.fioi-editor2_close-tab {\n   padding: 0px 2px;\n   margin-left: 2px;\n   border-radius: 3px;\n}\n\n.fioi-editor2_close-tab:hover {\n   background-color: #D8D8D8;\n}\n\n.fioi-editor2_buffers {\n   width: 100%;\n}\n\n.fioi-editor2_buffers textarea {\n   width: 756px;\n   height: auto;\n   text-align: left;\n   border: 1px solid #CCCCCC;\n   border-top: none;\n}\n\n.fioi-editor2_buffers .ace_editor {\n   width: 760px;\n   height: 350px; /* 14px * 25 lines */\n   border: 1px solid #CCCCCC;\n   border-top: none;\n}\n\n/*\n#sourcesEditor {\n   width:762px;\n}\n\n#testsEditor {\n   width:762px;\n}\n\n.CodeMirror {\n  text-align: left;\n  border: 1px solid #CCCCCC;\n  border-top: none;\n}\n\n.CodeMirror.basic {\n  border-top: 1px solid #CCCCCC;\n}\n\n.tooltip {\n   display:none;\n}\n*/";t("./../node_modules/cssify")(i),e.exports=i},{"./../node_modules/cssify":1}],7:[function(t,e,n){"use strict";define(["angular","lodash","angular-ui-ace"],function(e,n){t("./main.css");var i=e.module("fioi-editor2",["ui.ace"]);t("./services/tabsets")(i),t("./services/tabs")(i),t("./services/buffers")(i),t("./directives/editor")(i),t("./directives/buffer")(i)})},{"./directives/buffer":3,"./directives/editor":5,"./main.css":6,"./services/buffers":8,"./services/tabs":9,"./services/tabsets":10}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(t){function e(t,e,n){this.options=n||{},this.name=t,this.text=(e||"").toString(),this.selection={start:{row:0,column:0},end:{row:0,column:0}},this.language=this.options.language||"text"}var n={},i={},o=1;return e.prototype.update=function(t){"text"in t&&(this.text=t.text),"language"in t&&(this.language=t.language),"selection"in t&&(this.selection=_.clone(t.selection)),this._emit("changed")},e.prototype.getLanguages=function(){return this.options.languages?this.options.languages:this.tab.getLanguages()},e.prototype._emit=function(e){t.$emit("fioi-editor2_buffer-"+this.name+"_"+e)},n.add=function(t,n){var r="b"+o;o+=1;var a=i[r]=new e(r,t,n);return a},n.remove=function(t){var e=i[t];e&&delete i[t]},n.get=function(t){return i[t]},n}t.factory("FioiEditor2Buffers",e),e.$inject=["$rootScope"]}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){function n(t,e){this.name=t,this.options=e||{},this.title=this.options.title||"Tab",this.buffers=[]}var i={},o={},r=1;return n.prototype.addBuffer=function(t,n){n=_.clone(n)||{},"language"in n||(n.language=this.options.language);var i=e.add(t,n);return this.buffers.push(i.name),i.tab=this,i},n.prototype.getLanguages=function(){return this.options.languages?this.options.languages:this.tabset.getLanguages()},n.prototype._emit=function(e){t.$emit("fioi-editor2_tab-"+this.name+"_"+e)},i.add=function(t){var e="b"+r;r+=1;var i=o[e]=new n(e,t);return i},i.remove=function(t){o[t];delete o[t]},i.get=function(t){return o[t]},i}t.factory("FioiEditor2Tabs",e),e.$inject=["$rootScope","FioiEditor2Buffers"]}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){function n(t,e){this.name=t,this.options=e,this.tabs={},this.tabNames=[],this.activeTabName=null}var i={},o={};return i.add=function(t,e){if(t in o)return null;t=t.toString(),e.mode=e.mode||"sources",e.titlePrefix=(e.titlePrefix||"Tab").toString();var i=o[t]=new n(t,e);return i},i.get=function(t){return o[t]},i.dump=function(){return _.map(o,function(t){return t.dump()})},n.prototype.addTab=function(t){t=_.clone(t)||{};var n=this._unusedTabTitle();"title"in t||(t.title=this._unusedTabTitle());var i=e.add(t);i.tabset=this;var n=i.name;return this.tabs[n]=i,this.tabNames.push(n),null==this.activeTabName&&(this.activeTabName=n),this._emit("changed"),i},n.prototype.removeTab=function(t){_.pull(this.tabNames,t),delete this.tabs[t],this._emit("changed")},n.prototype.dump=function(){return{tabs:_.map(this.tabs,function(t){return t.dump()})}},n.prototype.getTabs=function(){var t=this.tabs;return _.map(this.tabNames,function(e){return t[e]})},n.prototype.setActiveTab=function(t){t in this.tabs&&(this.activeTabName=t,this._emit("changed"))},n.prototype.getActiveTab=function(){return this.activeTabName&&this.tabs[this.activeTabName]},n.prototype.getLanguages=function(){return this.options.languages?this.options.languages:[{name:"Text",ext:"txt"}]},n.prototype._emit=function(e){t.$emit("fioi-editor2_tabset-"+this.name+"_"+e)},n.prototype._unusedTabTitle=function(){var t=1,e={};for(_.each(this.tabs,function(t,n){e[t.title]=!0});;){var n=this.options.titlePrefix+t;if(!(n in e))return n;t+=1}},i}t.factory("FioiEditor2Tabsets",e),e.$inject=["$rootScope","FioiEditor2Tabs"]}},{}]},{},[7]);
//# sourceMappingURL=fioi-editor2.min.js.map
